{% load static %}
<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Epstein Studio Register</title>
    <link rel="stylesheet" href="{% static 'epstein_ui/style.css' %}" />
  </head>
  <body>
    <div class="page">
      <header class="topbar">
        <a href="/" class="brand">Epstein Studio</a>
      </header>
      <main class="layout" style="grid-template-columns: 1fr;">
        <section style="max-width: 460px; margin: 8vh auto 0;">
          <div class="tab-panel active" style="display: flex;">
            <div class="hint">Create a unique anonymous ID and password.</div>
            <form method="post" style="display: flex; flex-direction: column; gap: 16px;">
              {% csrf_token %}
              <label class="field">
                <span>Unique anonymous ID</span>
                <input id="usernameField" type="text" name="username" autocomplete="username" required autofocus readonly value="{{ suggested_id|default:current_username }}" />
                <input type="hidden" name="suggested_id" value="{{ suggested_id|default:'' }}" />
                {% if form.errors.username %}
                  <div class="hint" style="color: #ff6b6b;">{{ form.errors.username|join:", " }}</div>
                {% endif %}
              </label>
              <label class="field">
                <span>Password</span>
                <input type="password" name="password1" autocomplete="new-password" required />
              </label>
              <label class="field">
                <span>Confirm Password</span>
                <input type="password" name="password2" autocomplete="new-password" required />
              </label>
              <button type="submit" class="btn">Create Account</button>
            </form>
            <div class="hint">Already have an account? <a href="/login/">Log in</a></div>
            <div class="hint" style="margin-top: 12px;">
              This site does not store any personal information. The ID is only for editing and managing your annotations and for discussions. We do not ask for personal information and we do not log anything.
              <a href="https://github.com/artischocki/epstein-studio" target="_blank" rel="noreferrer">Repository</a>
            </div>
          </div>
        </section>
      </main>
    </div>
  </body>
</html>
